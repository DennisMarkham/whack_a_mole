<head>
<style>
	img {
		width: 200px;
	}

	@media only screen and (max-width: 1000px)
	{
		img
		{
			width: 100px;
		}
	}

	#gameBoard
	{
		cursor: url("hammer.cur"), auto !important;

	}


</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<body>
<p>Timer Span</p>
<p>Start Game:</p>
<button onClick = "beginGame()" id = "begin">Infinite Time</button><button id = "stop" disabled>Stop</button>
<div id = "gameBoard">
<img id = "im1" src = "hole.png"><img id = "im2" src = "hole.png"><img id = "im3" src = "hole.png"><br>
<img id = "im4" src = "hole.png"><img id = "im5" src = "hole.png"><img id = "im6" src = "hole.png"><br>
<img id = "im7" src = "hole.png"><img id = "im8" src = "hole.png"><img id = "im9" src = "hole.png"><br>
</div>
score:<span id = "score">0</span>

<script>

//knowing how to beign the game is easy enough, but how do we steop it.  
function beginGame(){
let score = 0;
const hit = new Audio("hit.flac");
const miss = new Audio("miss.mp3");
$("#begin").prop("disabled", true);
$("#stop").prop("disabled", false);

function moveMole(){	
let moleSpot = Math.floor(Math.random() * 9) + 1;


//needs to be 10, otherwise mole gets stuck in last hole
//this basically wipes the slate clean before placing a mole, so there won't be more than one on the screen a a time.
for (let i = 1; i < 10; i++) {
  document.getElementById("im" + i).setAttribute("src", "hole.png");
  
}

//this places the mole in a new spot
document.getElementById("im" + moleSpot).setAttribute("src", "mole.png");

}

const moleMovingInterval = setInterval(moveMole, 1000);


//I'm putting the stop function inside the beginGame function, and having the event listener for the stop function spawned here
$("#stop").click(function(){
console.log("this function is firing")
clearInterval(moleMovingInterval);
score = 0;
$("img").attr("src", "hole.png");
$("#score").text(score);
$("#stop").prop("disabled", true)
$("#begin").prop("disabled", false)
});

$("img").click(function()
{
	
	
	if($(this).attr("src") == "mole.png")
	{
		hit.pause();
		hit.currentTime = 0;
		hit.volume = 0.3;
		hit.play();
		
	$(this).attr("src", "whacked.png");
	score++;
	$("#score").text(score);	
	}
	else
	{
		miss.pause();
		miss.currentTime = 0;
		miss.play()
	}
})

}


</script>
</body>